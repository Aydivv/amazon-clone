[debug] [2022-02-12T03:23:37.044Z] ----------------------------------------------------------------------
[debug] [2022-02-12T03:23:37.045Z] Command:       /opt/homebrew/Cellar/node/17.4.0/bin/node /opt/homebrew/bin/firebase emulators:start
[debug] [2022-02-12T03:23:37.045Z] CLI Version:   10.2.0
[debug] [2022-02-12T03:23:37.045Z] Platform:      darwin
[debug] [2022-02-12T03:23:37.045Z] Node Version:  v17.4.0
[debug] [2022-02-12T03:23:37.046Z] Time:          Sat Feb 12 2022 03:23:37 GMT+0000 (Greenwich Mean Time)
[debug] [2022-02-12T03:23:37.046Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-02-12T03:23:37.074Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-12T03:23:37.074Z] > authorizing via signed-in user (suryanshvidya@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-02-12T03:23:37.093Z] [hub] writing locator at /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/hub-clone-a50ec.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "16" doesn't match your global version "17". Using node@17 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"16\" doesn't match your global version \"17\". Using node@17 from host."}}
[debug] [2022-02-12T03:23:37.127Z] defaultcredentials: writing to file /Users/suryansh/.config/firebase/suryanshvidya_gmail_com_application_default_credentials.json
[debug] [2022-02-12T03:23:37.128Z] Setting GAC to /Users/suryansh/.config/firebase/suryanshvidya_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/suryansh/.config/firebase/suryanshvidya_gmail_com_application_default_credentials.json"}}
[debug] [2022-02-12T03:23:37.129Z] > refreshing access token with scopes: []
[debug] [2022-02-12T03:23:37.130Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2022-02-12T03:23:37.209Z] <<< HTTP RESPONSE 200 {"pragma":"no-cache","expires":"Mon, 01 Jan 1990 00:00:00 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","date":"Sat, 12 Feb 2022 03:23:37 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-12T03:23:37.249Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/adminSdkConfig [none]
[debug] [2022-02-12T03:23:37.492Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/adminSdkConfig 200
[debug] [2022-02-12T03:23:37.493Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/adminSdkConfig {"projectId":"clone-a50ec","storageBucket":"clone-a50ec.appspot.com"}
[debug] [2022-02-12T03:23:37.529Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a50ec/sites 
[debug] [2022-02-12T03:23:38.241Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a50ec/sites 200
[debug] [2022-02-12T03:23:38.241Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a50ec/sites {"sites":[{"name":"projects/1086788723468/sites/clone-a50ec","defaultUrl":"https://clone-a50ec.web.app","appId":"1:1086788723468:web:057f3fb458938952451f29","type":"DEFAULT_SITE"}]}
[debug] [2022-02-12T03:23:38.242Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/webApps/1:1086788723468:web:057f3fb458938952451f29/config [none]
[debug] [2022-02-12T03:23:38.978Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/webApps/1:1086788723468:web:057f3fb458938952451f29/config 200
[debug] [2022-02-12T03:23:38.978Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a50ec/webApps/1:1086788723468:web:057f3fb458938952451f29/config {"projectId":"clone-a50ec","appId":"1:1086788723468:web:057f3fb458938952451f29","storageBucket":"clone-a50ec.appspot.com","apiKey":"AIzaSyDTji2BIFBq1ojc4QdZPLU81GfzsIOU5i0","authDomain":"clone-a50ec.firebaseapp.com","messagingSenderId":"1086788723468","measurementId":"G-NDQ3HBPSNX"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2022-02-12T03:23:39.030Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-02-12T03:23:39.030Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-02-12T03:23:39.030Z] Starting Emulator UI with command {"binary":"node","args":["/Users/suryansh/.cache/firebase/emulators/ui-v1.6.4/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/suryansh/.cache/firebase/emulators/ui-v1.6.4/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-02-12T03:23:39.106Z] Web / API server started at localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4001\n"}}
[info] i  functions: Watching "/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2022-02-12T03:23:39.301Z] Validating nodejs source
[debug] [2022-02-12T03:23:39.948Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.2",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "stripe": "^8.202.0"
  },
  "devDependencies": {
    "eslint": "^7.6.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-12T03:23:39.948Z] Building nodejs source
[debug] [2022-02-12T03:23:39.948Z] Analyzing nodejs backend spec
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/clone-a50ec/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-a50ec/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4001                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4001/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-02-12T03:23:58.597Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:23:58.597Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:23:58.598Z] Accepted request GET /clone-a50ec/us-central1/api --> us-central1-api
[debug] [2022-02-12T03:23:58.617Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:23:58.619Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:23:58.619Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:23:58.619Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock"}}
[debug] [2022-02-12T03:23:58.619Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: BUSY"}}
[debug] [2022-02-12T03:23:59.115Z] [runtime-status] [84602] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:23:59.115Z] [runtime-status] [84602] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:23:59.115Z] [runtime-status] [84602] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.115Z] [runtime-status] [84602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.115Z] [runtime-status] [84602] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:23:59.116Z] [runtime-status] [84602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.138Z] [runtime-status] [84602] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:23:59.138Z] [runtime-status] [84602] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:23:59.138Z] [runtime-status] [84602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.138Z] [runtime-status] [84602] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.139Z] [runtime-status] [84602] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:23:59.139Z] [runtime-status] [84602] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:23:59.199Z] [runtime-status] [84602] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:23:59.199Z] [runtime-status] [84602] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Running api in signature http"}}
[debug] [2022-02-12T03:23:59.200Z] [runtime-status] [84602] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock"}}
[debug] [2022-02-12T03:23:59.203Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:23:59.203Z] [functions] Got req.url=/clone-a50ec/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api, mapping to path=/"}}
[debug] [2022-02-12T03:23:59.205Z] [runtime-status] [84602] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Ephemeral server handling GET request"}}
[debug] [2022-02-12T03:23:59.209Z] [runtime-status] [84602] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:23:59.209Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: IDLE"}}
[debug] [2022-02-12T03:23:59.210Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:29:26.403Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:29:26.408Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:29:26.408Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=50000 --> us-central1-api
[debug] [2022-02-12T03:29:26.409Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:29:26.410Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock"}}
[debug] [2022-02-12T03:29:26.410Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: BUSY"}}
[debug] [2022-02-12T03:29:26.419Z] [runtime-status] [84602] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:29:26.421Z] [runtime-status] [84602] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Running api in signature http"}}
[debug] [2022-02-12T03:29:26.422Z] [runtime-status] [84602] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_84602.sock"}}
[debug] [2022-02-12T03:29:26.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:29:26.427Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000"}}
[debug] [2022-02-12T03:29:26.432Z] [runtime-status] [84602] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 50000 {"user":"Request Received for >>> 50000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 50000"}}
[debug] [2022-02-12T03:29:26.437Z] [runtime-status] [84602] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [84602] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:29:26.455Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: exited"}}
[debug] [2022-02-12T03:29:26.455Z] [worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e0ad670-7ac9-42c4-b7e1-acc44d80c457]: FINISHED"}}
[debug] [2022-02-12T03:29:26.455Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:29:34.998Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:29:34.999Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:29:34.999Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:29:34.999Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:29:35.007Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:29:35.008Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:29:35.008Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:29:35.008Z] [worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88160.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88160.sock"}}
[debug] [2022-02-12T03:29:35.008Z] [worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: BUSY"}}
[debug] [2022-02-12T03:29:35.574Z] [runtime-status] [88160] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:29:35.574Z] [runtime-status] [88160] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:29:35.576Z] [runtime-status] [88160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.576Z] [runtime-status] [88160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.576Z] [runtime-status] [88160] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:29:35.577Z] [runtime-status] [88160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.604Z] [runtime-status] [88160] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:29:35.605Z] [runtime-status] [88160] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:29:35.605Z] [runtime-status] [88160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.605Z] [runtime-status] [88160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.606Z] [runtime-status] [88160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:35.606Z] [runtime-status] [88160] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:29:35.677Z] [runtime-status] [88160] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:29:35.677Z] [runtime-status] [88160] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Running api in signature http"}}
[debug] [2022-02-12T03:29:35.678Z] [runtime-status] [88160] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88160.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88160.sock"}}
[debug] [2022-02-12T03:29:35.684Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:29:35.686Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:29:35.690Z] [runtime-status] [88160] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:29:35.692Z] [runtime-status] [88160] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88160] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:29:35.696Z] [worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: exited"}}
[debug] [2022-02-12T03:29:35.696Z] [worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-038cc3d2-ea83-49cc-95db-c1a2c8b67217]: FINISHED"}}
[debug] [2022-02-12T03:29:35.696Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:29:48.046Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:29:48.046Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:29:48.046Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=100000 --> us-central1-api
[debug] [2022-02-12T03:29:48.046Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:29:48.053Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:29:48.054Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:29:48.055Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:29:48.057Z] [worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88295.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88295.sock"}}
[debug] [2022-02-12T03:29:48.058Z] [worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: BUSY"}}
[debug] [2022-02-12T03:29:48.667Z] [runtime-status] [88295] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:29:48.667Z] [runtime-status] [88295] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:29:48.668Z] [runtime-status] [88295] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.669Z] [runtime-status] [88295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.669Z] [runtime-status] [88295] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:29:48.669Z] [runtime-status] [88295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.690Z] [runtime-status] [88295] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:29:48.690Z] [runtime-status] [88295] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:29:48.691Z] [runtime-status] [88295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.691Z] [runtime-status] [88295] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.691Z] [runtime-status] [88295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:29:48.691Z] [runtime-status] [88295] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:29:48.755Z] [runtime-status] [88295] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:29:48.756Z] [runtime-status] [88295] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Running api in signature http"}}
[debug] [2022-02-12T03:29:48.757Z] [runtime-status] [88295] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88295.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88295.sock"}}
[debug] [2022-02-12T03:29:48.761Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:29:48.761Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000"}}
[debug] [2022-02-12T03:29:48.764Z] [runtime-status] [88295] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 100000 {"user":"Request Received for >>> 100000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 100000"}}
[debug] [2022-02-12T03:29:48.766Z] [runtime-status] [88295] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88295] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:29:48.771Z] [worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: exited"}}
[debug] [2022-02-12T03:29:48.771Z] [worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-562488f4-9d18-4ae7-9dfe-2ce2060ea5d6]: FINISHED"}}
[debug] [2022-02-12T03:29:48.771Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:30:39.555Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:30:39.557Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:30:39.557Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=5555 --> us-central1-api
[debug] [2022-02-12T03:30:39.557Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:30:39.567Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:30:39.567Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:30:39.567Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:30:39.567Z] [worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88821.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88821.sock"}}
[debug] [2022-02-12T03:30:39.567Z] [worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: BUSY"}}
[debug] [2022-02-12T03:30:40.124Z] [runtime-status] [88821] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:30:40.124Z] [runtime-status] [88821] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:30:40.125Z] [runtime-status] [88821] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.126Z] [runtime-status] [88821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.126Z] [runtime-status] [88821] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:30:40.126Z] [runtime-status] [88821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.151Z] [runtime-status] [88821] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:30:40.152Z] [runtime-status] [88821] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:40.152Z] [runtime-status] [88821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.152Z] [runtime-status] [88821] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.152Z] [runtime-status] [88821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:40.152Z] [runtime-status] [88821] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:40.220Z] [runtime-status] [88821] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:30:40.221Z] [runtime-status] [88821] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Running api in signature http"}}
[debug] [2022-02-12T03:30:40.222Z] [runtime-status] [88821] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88821.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88821.sock"}}
[debug] [2022-02-12T03:30:40.224Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:30:40.224Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555"}}
[debug] [2022-02-12T03:30:40.228Z] [runtime-status] [88821] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 5555 {"user":"Request Received for >>> 5555","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 5555"}}
[debug] [2022-02-12T03:30:40.229Z] [runtime-status] [88821] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88821] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:30:40.236Z] [worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: exited"}}
[debug] [2022-02-12T03:30:40.236Z] [worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7de1ebf0-a8f0-4e28-9fa4-903a6c1d995b]: FINISHED"}}
[debug] [2022-02-12T03:30:40.236Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:30:46.776Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:30:46.776Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:30:46.776Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=5555 --> us-central1-api
[debug] [2022-02-12T03:30:46.777Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:30:46.783Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:30:46.784Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:30:46.784Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:30:46.785Z] [worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88896.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88896.sock"}}
[debug] [2022-02-12T03:30:46.785Z] [worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: BUSY"}}
[debug] [2022-02-12T03:30:47.300Z] [runtime-status] [88896] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:30:47.300Z] [runtime-status] [88896] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:30:47.301Z] [runtime-status] [88896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.301Z] [runtime-status] [88896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.301Z] [runtime-status] [88896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:30:47.302Z] [runtime-status] [88896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.322Z] [runtime-status] [88896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:30:47.322Z] [runtime-status] [88896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:47.322Z] [runtime-status] [88896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.323Z] [runtime-status] [88896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.323Z] [runtime-status] [88896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:47.323Z] [runtime-status] [88896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:47.380Z] [runtime-status] [88896] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:30:47.380Z] [runtime-status] [88896] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Running api in signature http"}}
[debug] [2022-02-12T03:30:47.381Z] [runtime-status] [88896] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88896.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_88896.sock"}}
[debug] [2022-02-12T03:30:47.384Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:30:47.384Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555"}}
[debug] [2022-02-12T03:30:47.387Z] [runtime-status] [88896] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 5555 {"user":"Request Received for >>> 5555","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 5555"}}
[debug] [2022-02-12T03:30:47.388Z] [runtime-status] [88896] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [88896] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:30:47.393Z] [worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: exited"}}
[debug] [2022-02-12T03:30:47.393Z] [worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48b4b74a-50f4-41bb-b389-dd55714bebaf]: FINISHED"}}
[debug] [2022-02-12T03:30:47.393Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:30:57.900Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:30:57.901Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:30:57.901Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=5555 --> us-central1-api
[debug] [2022-02-12T03:30:57.901Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:30:57.908Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:30:57.909Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:30:57.909Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:30:57.909Z] [worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89019.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89019.sock"}}
[debug] [2022-02-12T03:30:57.909Z] [worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: BUSY"}}
[debug] [2022-02-12T03:30:59.488Z] [runtime-status] [89019] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:30:59.488Z] [runtime-status] [89019] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:30:59.490Z] [runtime-status] [89019] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.491Z] [runtime-status] [89019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.491Z] [runtime-status] [89019] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:30:59.491Z] [runtime-status] [89019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.514Z] [runtime-status] [89019] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:30:59.515Z] [runtime-status] [89019] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:59.515Z] [runtime-status] [89019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.515Z] [runtime-status] [89019] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.516Z] [runtime-status] [89019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:30:59.516Z] [runtime-status] [89019] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:30:59.574Z] [runtime-status] [89019] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:30:59.574Z] [runtime-status] [89019] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Running api in signature http"}}
[debug] [2022-02-12T03:30:59.576Z] [runtime-status] [89019] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89019.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89019.sock"}}
[debug] [2022-02-12T03:30:59.578Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:30:59.579Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5555, mapping to path=/payments/create?total=5555"}}
[debug] [2022-02-12T03:30:59.581Z] [runtime-status] [89019] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 5555 {"user":"Request Received for >>> 5555","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 5555"}}
[debug] [2022-02-12T03:30:59.583Z] [runtime-status] [89019] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89019] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:30:59.587Z] [worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: exited"}}
[debug] [2022-02-12T03:30:59.587Z] [worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-533d2738-8570-4845-99c8-de5380ca968a]: FINISHED"}}
[debug] [2022-02-12T03:30:59.587Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:31:03.066Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:31:03.066Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:31:03.066Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=555 --> us-central1-api
[debug] [2022-02-12T03:31:03.067Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:31:03.072Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:31:03.073Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:31:03.073Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:31:03.073Z] [worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89076.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89076.sock"}}
[debug] [2022-02-12T03:31:03.073Z] [worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: BUSY"}}
[debug] [2022-02-12T03:31:03.392Z] [runtime-status] [89076] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:31:03.393Z] [runtime-status] [89076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:31:03.393Z] [runtime-status] [89076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.393Z] [runtime-status] [89076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.394Z] [runtime-status] [89076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:31:03.394Z] [runtime-status] [89076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:03.408Z] [runtime-status] [89076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:03.440Z] [runtime-status] [89076] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:31:03.440Z] [runtime-status] [89076] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Running api in signature http"}}
[debug] [2022-02-12T03:31:03.441Z] [runtime-status] [89076] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89076.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89076.sock"}}
[debug] [2022-02-12T03:31:03.443Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:31:03.443Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=555, mapping to path=/payments/create?total=555 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=555, mapping to path=/payments/create?total=555"}}
[debug] [2022-02-12T03:31:03.446Z] [runtime-status] [89076] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 555 {"user":"Request Received for >>> 555","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 555"}}
[debug] [2022-02-12T03:31:03.447Z] [runtime-status] [89076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89076] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:31:03.451Z] [worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: exited"}}
[debug] [2022-02-12T03:31:03.451Z] [worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0cf0ed45-7bbc-4925-af2b-be5f97a2a06e]: FINISHED"}}
[debug] [2022-02-12T03:31:03.451Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:31:23.550Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:31:23.551Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:31:23.551Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=50000 --> us-central1-api
[debug] [2022-02-12T03:31:23.551Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:31:23.560Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:31:23.560Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:31:23.561Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:31:23.561Z] [worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89280.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89280.sock"}}
[debug] [2022-02-12T03:31:23.562Z] [worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: BUSY"}}
[debug] [2022-02-12T03:31:24.046Z] [runtime-status] [89280] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:31:24.046Z] [runtime-status] [89280] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:31:24.048Z] [runtime-status] [89280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.048Z] [runtime-status] [89280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.048Z] [runtime-status] [89280] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:31:24.049Z] [runtime-status] [89280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.071Z] [runtime-status] [89280] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:31:24.071Z] [runtime-status] [89280] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:24.071Z] [runtime-status] [89280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.071Z] [runtime-status] [89280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.071Z] [runtime-status] [89280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:24.072Z] [runtime-status] [89280] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:24.132Z] [runtime-status] [89280] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:31:24.133Z] [runtime-status] [89280] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Running api in signature http"}}
[debug] [2022-02-12T03:31:24.134Z] [runtime-status] [89280] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89280.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89280.sock"}}
[debug] [2022-02-12T03:31:24.136Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:31:24.136Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000"}}
[debug] [2022-02-12T03:31:24.139Z] [runtime-status] [89280] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 50000 {"user":"Request Received for >>> 50000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 50000"}}
[debug] [2022-02-12T03:31:24.142Z] [runtime-status] [89280] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89280] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:31:24.153Z] [worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: exited"}}
[debug] [2022-02-12T03:31:24.153Z] [worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51a4719a-7906-467f-8e1e-bbbf26425416]: FINISHED"}}
[debug] [2022-02-12T03:31:24.153Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:31:29.227Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:31:29.227Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:31:29.227Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=50000 --> us-central1-api
[debug] [2022-02-12T03:31:29.227Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:31:29.235Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:31:29.235Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:31:29.235Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:31:29.236Z] [worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89343.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89343.sock"}}
[debug] [2022-02-12T03:31:29.236Z] [worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: BUSY"}}
[debug] [2022-02-12T03:31:29.833Z] [runtime-status] [89343] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:31:29.834Z] [runtime-status] [89343] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:31:29.835Z] [runtime-status] [89343] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.835Z] [runtime-status] [89343] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.835Z] [runtime-status] [89343] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:31:29.835Z] [runtime-status] [89343] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.860Z] [runtime-status] [89343] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:31:29.860Z] [runtime-status] [89343] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:29.860Z] [runtime-status] [89343] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.860Z] [runtime-status] [89343] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.861Z] [runtime-status] [89343] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:29.861Z] [runtime-status] [89343] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:29.939Z] [runtime-status] [89343] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:31:29.939Z] [runtime-status] [89343] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Running api in signature http"}}
[debug] [2022-02-12T03:31:29.940Z] [runtime-status] [89343] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89343.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89343.sock"}}
[debug] [2022-02-12T03:31:29.943Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:31:29.943Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000"}}
[debug] [2022-02-12T03:31:29.946Z] [runtime-status] [89343] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 50000 {"user":"Request Received for >>> 50000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 50000"}}
[debug] [2022-02-12T03:31:29.948Z] [runtime-status] [89343] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89343] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:31:29.955Z] [worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: exited"}}
[debug] [2022-02-12T03:31:29.955Z] [worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b9777af-d677-4920-b421-269673eb7249]: FINISHED"}}
[debug] [2022-02-12T03:31:29.955Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:31:38.329Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:31:38.329Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:31:38.329Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:31:38.329Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:31:38.337Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:31:38.338Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:31:38.338Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:31:38.338Z] [worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89438.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89438.sock"}}
[debug] [2022-02-12T03:31:38.338Z] [worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: BUSY"}}
[debug] [2022-02-12T03:31:38.811Z] [runtime-status] [89438] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:31:38.812Z] [runtime-status] [89438] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:31:38.813Z] [runtime-status] [89438] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.813Z] [runtime-status] [89438] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.813Z] [runtime-status] [89438] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:31:38.813Z] [runtime-status] [89438] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.835Z] [runtime-status] [89438] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:31:38.835Z] [runtime-status] [89438] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:38.835Z] [runtime-status] [89438] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.836Z] [runtime-status] [89438] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.836Z] [runtime-status] [89438] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:31:38.836Z] [runtime-status] [89438] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:31:38.895Z] [runtime-status] [89438] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:31:38.895Z] [runtime-status] [89438] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Running api in signature http"}}
[debug] [2022-02-12T03:31:38.896Z] [runtime-status] [89438] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89438.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89438.sock"}}
[debug] [2022-02-12T03:31:38.899Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:31:38.899Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:31:38.902Z] [runtime-status] [89438] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:31:38.906Z] [runtime-status] [89438] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89438] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:31:38.912Z] [worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: exited"}}
[debug] [2022-02-12T03:31:38.912Z] [worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6c665144-e6a6-41d9-90a4-719658787ef8]: FINISHED"}}
[debug] [2022-02-12T03:31:38.912Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:32:00.398Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:32:00.398Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:32:00.398Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=5998 --> us-central1-api
[debug] [2022-02-12T03:32:00.398Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:32:00.406Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:32:00.407Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:32:00.407Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:32:00.408Z] [worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89663.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89663.sock"}}
[debug] [2022-02-12T03:32:00.408Z] [worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: BUSY"}}
[debug] [2022-02-12T03:32:00.996Z] [runtime-status] [89663] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:32:00.996Z] [runtime-status] [89663] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:32:00.997Z] [runtime-status] [89663] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:00.998Z] [runtime-status] [89663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:00.998Z] [runtime-status] [89663] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:32:00.998Z] [runtime-status] [89663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:01.020Z] [runtime-status] [89663] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:32:01.020Z] [runtime-status] [89663] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:32:01.020Z] [runtime-status] [89663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:01.020Z] [runtime-status] [89663] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:01.021Z] [runtime-status] [89663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:01.021Z] [runtime-status] [89663] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:32:01.085Z] [runtime-status] [89663] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:32:01.085Z] [runtime-status] [89663] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Running api in signature http"}}
[debug] [2022-02-12T03:32:01.086Z] [runtime-status] [89663] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89663.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_89663.sock"}}
[debug] [2022-02-12T03:32:01.089Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:32:01.090Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2022-02-12T03:32:01.092Z] [runtime-status] [89663] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 5998 {"user":"Request Received for >>> 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 5998"}}
[debug] [2022-02-12T03:32:01.094Z] [runtime-status] [89663] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [89663] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js:25:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:32:01.102Z] [worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: exited"}}
[debug] [2022-02-12T03:32:01.102Z] [worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4529fb72-545d-4f3f-a742-803452bc8b71]: FINISHED"}}
[debug] [2022-02-12T03:32:01.102Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:32:50.224Z] File /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-12T03:32:51.228Z] Validating nodejs source
[debug] [2022-02-12T03:32:52.683Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.2",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "stripe": "^8.202.0"
  },
  "devDependencies": {
    "eslint": "^7.6.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-12T03:32:52.683Z] Building nodejs source
[debug] [2022-02-12T03:32:52.684Z] Analyzing nodejs backend spec
[debug] [2022-02-12T03:32:53.873Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:32:53.873Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:32:53.874Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:32:53.874Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:32:53.883Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:32:53.883Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:32:53.883Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:32:53.885Z] [worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90221.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90221.sock"}}
[debug] [2022-02-12T03:32:53.885Z] [worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: BUSY"}}
[debug] [2022-02-12T03:32:55.017Z] [runtime-status] [90221] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:32:55.017Z] [runtime-status] [90221] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:32:55.018Z] [runtime-status] [90221] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.019Z] [runtime-status] [90221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.019Z] [runtime-status] [90221] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:32:55.019Z] [runtime-status] [90221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.035Z] [runtime-status] [90221] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:32:55.036Z] [runtime-status] [90221] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:32:55.036Z] [runtime-status] [90221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.036Z] [runtime-status] [90221] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.036Z] [runtime-status] [90221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:32:55.036Z] [runtime-status] [90221] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:32:55.068Z] [runtime-status] [90221] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:32:55.071Z] [runtime-status] [90221] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Running api in signature http"}}
[debug] [2022-02-12T03:32:55.071Z] [runtime-status] [90221] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90221.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90221.sock"}}
[debug] [2022-02-12T03:32:55.073Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:32:55.073Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:32:55.076Z] [runtime-status] [90221] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:32:55.086Z] [runtime-status] [90221] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90221] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 12 Feb 2022 03:32:55 GMT', {"user":"      date: 'Sat, 12 Feb 2022 03:32:55 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 12 Feb 2022 03:32:55 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62', {"user":"      'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62',"}}
[info] >        'original-request': 'req_xbgXtljLeN5D9q', {"user":"      'original-request': 'req_xbgXtljLeN5D9q',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_xbgXtljLeN5D9q',"}}
[info] >        'request-id': 'req_xbgXtljLeN5D9q', {"user":"      'request-id': 'req_xbgXtljLeN5D9q',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_xbgXtljLeN5D9q',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_xbgXtljLeN5D9q' {"user":"    requestId: 'req_xbgXtljLeN5D9q'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_xbgXtljLeN5D9q'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 12 Feb 2022 03:32:55 GMT', {"user":"    date: 'Sat, 12 Feb 2022 03:32:55 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 12 Feb 2022 03:32:55 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62', {"user":"    'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '27957787-7064-492d-a645-9b443fdd9d62',"}}
[info] >      'original-request': 'req_xbgXtljLeN5D9q', {"user":"    'original-request': 'req_xbgXtljLeN5D9q',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_xbgXtljLeN5D9q',"}}
[info] >      'request-id': 'req_xbgXtljLeN5D9q', {"user":"    'request-id': 'req_xbgXtljLeN5D9q',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_xbgXtljLeN5D9q',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_xbgXtljLeN5D9q', {"user":"  requestId: 'req_xbgXtljLeN5D9q',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_xbgXtljLeN5D9q',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:32:55.619Z] [worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: exited"}}
[debug] [2022-02-12T03:32:55.620Z] [worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-10f0454d-e046-4f73-bdc1-af2c2c094c3f]: FINISHED"}}
[debug] [2022-02-12T03:32:55.620Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:33:02.611Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:33:02.612Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:33:02.612Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=2999 --> us-central1-api
[debug] [2022-02-12T03:33:02.612Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:33:02.621Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:33:02.622Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:33:02.622Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:33:02.622Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock"}}
[debug] [2022-02-12T03:33:02.622Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: BUSY"}}
[debug] [2022-02-12T03:33:03.198Z] [runtime-status] [90316] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:33:03.199Z] [runtime-status] [90316] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:33:03.199Z] [runtime-status] [90316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.200Z] [runtime-status] [90316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.200Z] [runtime-status] [90316] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:33:03.200Z] [runtime-status] [90316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.215Z] [runtime-status] [90316] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:33:03.215Z] [runtime-status] [90316] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:33:03.215Z] [runtime-status] [90316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.216Z] [runtime-status] [90316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.216Z] [runtime-status] [90316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:33:03.216Z] [runtime-status] [90316] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:33:03.252Z] [runtime-status] [90316] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:33:03.252Z] [runtime-status] [90316] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Running api in signature http"}}
[debug] [2022-02-12T03:33:03.255Z] [runtime-status] [90316] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock"}}
[debug] [2022-02-12T03:33:03.258Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:33:03.258Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2022-02-12T03:33:03.261Z] [runtime-status] [90316] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 2999 {"user":"Request Received for >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 2999"}}
[debug] [2022-02-12T03:33:03.281Z] [runtime-status] [90316] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:33:03.770Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: IDLE"}}
[debug] [2022-02-12T03:33:03.770Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:33:07.328Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:33:07.328Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:33:07.328Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:33:07.328Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:33:07.328Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock"}}
[debug] [2022-02-12T03:33:07.329Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: BUSY"}}
[debug] [2022-02-12T03:33:07.329Z] [runtime-status] [90316] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:33:07.330Z] [runtime-status] [90316] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Running api in signature http"}}
[debug] [2022-02-12T03:33:07.331Z] [runtime-status] [90316] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90316.sock"}}
[debug] [2022-02-12T03:33:07.335Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:33:07.335Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:33:07.337Z] [runtime-status] [90316] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:33:07.339Z] [runtime-status] [90316] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90316] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 12 Feb 2022 03:33:07 GMT', {"user":"      date: 'Sat, 12 Feb 2022 03:33:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 12 Feb 2022 03:33:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f', {"user":"      'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f',"}}
[info] >        'original-request': 'req_TnCZlVSIAfVktT', {"user":"      'original-request': 'req_TnCZlVSIAfVktT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_TnCZlVSIAfVktT',"}}
[info] >        'request-id': 'req_TnCZlVSIAfVktT', {"user":"      'request-id': 'req_TnCZlVSIAfVktT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_TnCZlVSIAfVktT',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_TnCZlVSIAfVktT' {"user":"    requestId: 'req_TnCZlVSIAfVktT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_TnCZlVSIAfVktT'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 12 Feb 2022 03:33:07 GMT', {"user":"    date: 'Sat, 12 Feb 2022 03:33:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 12 Feb 2022 03:33:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f', {"user":"    'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'b125d79d-99da-4082-a09e-a32368ef8b2f',"}}
[info] >      'original-request': 'req_TnCZlVSIAfVktT', {"user":"    'original-request': 'req_TnCZlVSIAfVktT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_TnCZlVSIAfVktT',"}}
[info] >      'request-id': 'req_TnCZlVSIAfVktT', {"user":"    'request-id': 'req_TnCZlVSIAfVktT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_TnCZlVSIAfVktT',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_TnCZlVSIAfVktT', {"user":"  requestId: 'req_TnCZlVSIAfVktT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_TnCZlVSIAfVktT',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:33:07.634Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: exited"}}
[debug] [2022-02-12T03:33:07.634Z] [worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3040589b-7ce7-463e-b87b-4d9b95b0fdd5]: FINISHED"}}
[debug] [2022-02-12T03:33:07.634Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:34:04.500Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:34:04.502Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:34:04.502Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=150000 --> us-central1-api
[debug] [2022-02-12T03:34:04.503Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:34:04.510Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:34:04.511Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:34:04.511Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:34:04.511Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:04.511Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY"}}
[debug] [2022-02-12T03:34:05.227Z] [runtime-status] [90947] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:34:05.228Z] [runtime-status] [90947] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:34:05.230Z] [runtime-status] [90947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.231Z] [runtime-status] [90947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.231Z] [runtime-status] [90947] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:34:05.231Z] [runtime-status] [90947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.259Z] [runtime-status] [90947] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:34:05.260Z] [runtime-status] [90947] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:34:05.260Z] [runtime-status] [90947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.260Z] [runtime-status] [90947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.260Z] [runtime-status] [90947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:34:05.261Z] [runtime-status] [90947] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:34:05.335Z] [runtime-status] [90947] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:34:05.336Z] [runtime-status] [90947] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Running api in signature http"}}
[debug] [2022-02-12T03:34:05.337Z] [runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:05.339Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:34:05.339Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=150000, mapping to path=/payments/create?total=150000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=150000, mapping to path=/payments/create?total=150000"}}
[debug] [2022-02-12T03:34:05.342Z] [runtime-status] [90947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 150000 {"user":"Request Received for >>> 150000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 150000"}}
[debug] [2022-02-12T03:34:05.350Z] [runtime-status] [90947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:34:05.817Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE"}}
[debug] [2022-02-12T03:34:05.817Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:34:07.823Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:34:07.823Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:34:07.823Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=100000 --> us-central1-api
[debug] [2022-02-12T03:34:07.823Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:34:07.823Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:07.823Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY"}}
[debug] [2022-02-12T03:34:07.824Z] [runtime-status] [90947] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:34:07.843Z] [runtime-status] [90947] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Running api in signature http"}}
[debug] [2022-02-12T03:34:07.843Z] [runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:07.845Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:34:07.846Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000"}}
[debug] [2022-02-12T03:34:07.848Z] [runtime-status] [90947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 100000 {"user":"Request Received for >>> 100000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 100000"}}
[debug] [2022-02-12T03:34:07.857Z] [runtime-status] [90947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:34:08.216Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE"}}
[debug] [2022-02-12T03:34:08.216Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:34:09.836Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:34:09.836Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:34:09.836Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=50000 --> us-central1-api
[debug] [2022-02-12T03:34:09.836Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:34:09.836Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:09.836Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY"}}
[debug] [2022-02-12T03:34:09.837Z] [runtime-status] [90947] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:34:09.838Z] [runtime-status] [90947] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Running api in signature http"}}
[debug] [2022-02-12T03:34:09.838Z] [runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:34:09.842Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:34:09.842Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000"}}
[debug] [2022-02-12T03:34:09.847Z] [runtime-status] [90947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 50000 {"user":"Request Received for >>> 50000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 50000"}}
[debug] [2022-02-12T03:34:09.850Z] [runtime-status] [90947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:34:10.182Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE"}}
[debug] [2022-02-12T03:34:10.182Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:41:21.484Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:41:21.486Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:41:21.486Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=100000 --> us-central1-api
[debug] [2022-02-12T03:41:21.489Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:41:21.490Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:41:21.490Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY"}}
[debug] [2022-02-12T03:41:21.515Z] [runtime-status] [90947] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:41:21.517Z] [runtime-status] [90947] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Running api in signature http"}}
[debug] [2022-02-12T03:41:21.527Z] [runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:41:21.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:41:21.531Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000"}}
[debug] [2022-02-12T03:41:21.536Z] [runtime-status] [90947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 100000 {"user":"Request Received for >>> 100000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 100000"}}
[debug] [2022-02-12T03:41:21.548Z] [runtime-status] [90947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:41:21.960Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: IDLE"}}
[debug] [2022-02-12T03:41:21.960Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:41:34.388Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:41:34.388Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:41:34.388Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:41:34.389Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:41:34.389Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:41:34.389Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: BUSY"}}
[debug] [2022-02-12T03:41:34.390Z] [runtime-status] [90947] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:41:34.391Z] [runtime-status] [90947] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Running api in signature http"}}
[debug] [2022-02-12T03:41:34.391Z] [runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_90947.sock"}}
[debug] [2022-02-12T03:41:34.394Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:41:34.395Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:41:34.406Z] [runtime-status] [90947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:41:34.410Z] [runtime-status] [90947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [90947] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 12 Feb 2022 03:41:34 GMT', {"user":"      date: 'Sat, 12 Feb 2022 03:41:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 12 Feb 2022 03:41:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659', {"user":"      'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659',"}}
[info] >        'original-request': 'req_SnjS3f1XFCjK0t', {"user":"      'original-request': 'req_SnjS3f1XFCjK0t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_SnjS3f1XFCjK0t',"}}
[info] >        'request-id': 'req_SnjS3f1XFCjK0t', {"user":"      'request-id': 'req_SnjS3f1XFCjK0t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_SnjS3f1XFCjK0t',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_SnjS3f1XFCjK0t' {"user":"    requestId: 'req_SnjS3f1XFCjK0t'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_SnjS3f1XFCjK0t'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 12 Feb 2022 03:41:34 GMT', {"user":"    date: 'Sat, 12 Feb 2022 03:41:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 12 Feb 2022 03:41:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659', {"user":"    'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'aad4cd26-52d1-4830-b3e4-9c697731a659',"}}
[info] >      'original-request': 'req_SnjS3f1XFCjK0t', {"user":"    'original-request': 'req_SnjS3f1XFCjK0t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_SnjS3f1XFCjK0t',"}}
[info] >      'request-id': 'req_SnjS3f1XFCjK0t', {"user":"    'request-id': 'req_SnjS3f1XFCjK0t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_SnjS3f1XFCjK0t',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_SnjS3f1XFCjK0t', {"user":"  requestId: 'req_SnjS3f1XFCjK0t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_SnjS3f1XFCjK0t',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:41:34.670Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: exited"}}
[debug] [2022-02-12T03:41:34.670Z] [worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f07244a9-5cab-4b64-8009-82c15c486b21]: FINISHED"}}
[debug] [2022-02-12T03:41:34.670Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:44:38.869Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:44:38.875Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:44:38.876Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=100000 --> us-central1-api
[debug] [2022-02-12T03:44:38.877Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-12T03:44:38.896Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-12T03:44:38.897Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-12T03:44:38.897Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:44:38.897Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:44:38.897Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY"}}
[debug] [2022-02-12T03:44:39.855Z] [runtime-status] [97806] Functions runtime initialized. {"cwd":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions","node_version":"17.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Functions runtime initialized. {\"cwd\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions\",\"node_version\":\"17.4.0\"}"}}
[debug] [2022-02-12T03:44:39.855Z] [runtime-status] [97806] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Disabled runtime features: undefined"}}
[debug] [2022-02-12T03:44:39.858Z] [runtime-status] [97806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.858Z] [runtime-status] [97806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.858Z] [runtime-status] [97806] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-12T03:44:39.859Z] [runtime-status] [97806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.896Z] [runtime-status] [97806] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-12T03:44:39.897Z] [runtime-status] [97806] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-12T03:44:39.897Z] [runtime-status] [97806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.898Z] [runtime-status] [97806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.899Z] [runtime-status] [97806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-12T03:44:39.899Z] [runtime-status] [97806] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-12T03:44:40.002Z] [runtime-status] [97806] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:44:40.003Z] [runtime-status] [97806] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Running api in signature http"}}
[debug] [2022-02-12T03:44:40.004Z] [runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:44:40.009Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:44:40.010Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=100000, mapping to path=/payments/create?total=100000"}}
[debug] [2022-02-12T03:44:40.014Z] [runtime-status] [97806] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 100000 {"user":"Request Received for >>> 100000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 100000"}}
[debug] [2022-02-12T03:44:40.027Z] [runtime-status] [97806] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:44:40.548Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: IDLE"}}
[debug] [2022-02-12T03:44:40.548Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:44:50.305Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:44:50.305Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:44:50.305Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=50000 --> us-central1-api
[debug] [2022-02-12T03:44:50.305Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:44:50.306Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:44:50.306Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY"}}
[debug] [2022-02-12T03:44:50.306Z] [runtime-status] [97806] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:44:50.328Z] [runtime-status] [97806] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Running api in signature http"}}
[debug] [2022-02-12T03:44:50.329Z] [runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:44:50.334Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:44:50.334Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=50000, mapping to path=/payments/create?total=50000"}}
[debug] [2022-02-12T03:44:50.338Z] [runtime-status] [97806] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 50000 {"user":"Request Received for >>> 50000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 50000"}}
[debug] [2022-02-12T03:44:50.340Z] [runtime-status] [97806] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-12T03:44:50.782Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: IDLE"}}
[debug] [2022-02-12T03:44:50.783Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-12T03:45:05.760Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-12T03:45:05.761Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-12T03:45:05.761Z] Accepted request POST /clone-a50ec/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-12T03:45:05.761Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-12T03:45:05.761Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: Assigning socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:45:05.761Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: BUSY"}}
[debug] [2022-02-12T03:45:05.767Z] [runtime-status] [97806] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-12T03:45:05.768Z] [runtime-status] [97806] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Running api in signature http"}}
[debug] [2022-02-12T03:45:05.769Z] [runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Attempting to listen to socketPath: /var/folders/sy/j76vsfks2k1fq_869kx00qdh0000gn/T/fire_emu_97806.sock"}}
[debug] [2022-02-12T03:45:05.774Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-12T03:45:05.775Z] [functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a50ec/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-12T03:45:05.778Z] [runtime-status] [97806] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server handling POST request"}}
[info] >  Request Received for >>> 0 {"user":"Request Received for >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Request Received for >>> 0"}}
[debug] [2022-02-12T03:45:05.780Z] [runtime-status] [97806] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [97806] Ephemeral server survived."}}
[info] >  /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/suryansh/Documents/GitHub/Amazon Clone/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 12 Feb 2022 03:45:06 GMT', {"user":"      date: 'Sat, 12 Feb 2022 03:45:06 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 12 Feb 2022 03:45:06 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c', {"user":"      'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c',"}}
[info] >        'original-request': 'req_hIQt9baF3LR9t9', {"user":"      'original-request': 'req_hIQt9baF3LR9t9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_hIQt9baF3LR9t9',"}}
[info] >        'request-id': 'req_hIQt9baF3LR9t9', {"user":"      'request-id': 'req_hIQt9baF3LR9t9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_hIQt9baF3LR9t9',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_hIQt9baF3LR9t9' {"user":"    requestId: 'req_hIQt9baF3LR9t9'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_hIQt9baF3LR9t9'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 12 Feb 2022 03:45:06 GMT', {"user":"    date: 'Sat, 12 Feb 2022 03:45:06 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 12 Feb 2022 03:45:06 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c', {"user":"    'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '46e299d7-9120-4639-b116-91993b29949c',"}}
[info] >      'original-request': 'req_hIQt9baF3LR9t9', {"user":"    'original-request': 'req_hIQt9baF3LR9t9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_hIQt9baF3LR9t9',"}}
[info] >      'request-id': 'req_hIQt9baF3LR9t9', {"user":"    'request-id': 'req_hIQt9baF3LR9t9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_hIQt9baF3LR9t9',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_hIQt9baF3LR9t9', {"user":"  requestId: 'req_hIQt9baF3LR9t9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_hIQt9baF3LR9t9',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v17.4.0 {"user":"Node.js v17.4.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Node.js v17.4.0"}}
[debug] [2022-02-12T03:45:06.042Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: exited"}}
[debug] [2022-02-12T03:45:06.042Z] [worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d3333f73-faab-4c51-8ab7-20801fba1a4b]: FINISHED"}}
[debug] [2022-02-12T03:45:06.042Z] [work-queue] {"queueLength":0,"workRunningCount":0}
